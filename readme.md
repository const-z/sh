# SmartHome

1. [Задание на разработку 1](exercise_1.md)
1. [Задание на разработку 2](exercise_2.md)
1. [Задание на разработку 3](exercise_3.md)
1. [Задание на разработку 4](exercise_4.md)

SmartHome - библиотека, которая позволяет моделировать умный дом.

## Запуск

### Запуск эмулятора умной розетки

`cargo run --bin sh_socket_emulator`
параметры:

- env: `SH_SOCKET_EMULATOR_PORT` - порт, на котором эмулятор слушает подключения, по-умолчанию 3001

### Запуск эмлятора умного термометра

`cargo run --bin sh_therm_emulator`
параметры:

- env: `SH_THERM_EMULATOR_TARGET_IP` - ip-адрес, в который эмулятор пишет состояние термометра, по-умолчанию 127.0.0.1
- env: `SH_THERM_EMULATOR_TARGET_PORT` - порт, в который эмулятор пишет состояние термометра, по-умолчанию 4001
- env: `SH_THERM_EMULATOR_INTERVAL_MS` - интервал, отправки состояния термометра, по-умолчанию 2000 (2 сек)

### Запуск примера работы умного дома

`cargo run --example sh_ex_online` - пример умного дома с двумя команатами и устройствами (розетка, термометр).  
Также запускается 3 эмулятора:

- 2 эмлятора термометра
- 1 эмулятор на все розетки
  Состояние для элементов умного дома приходят из эмуляторов.
  Пример раз в 5 сек выводит отчет о состоянии умного дома и его устройствах.

### Запуск примера с построителем отчетов

`cargo run --example sh_ex_reporter`

### Запуск примера с построителем умного дома

`cargo run --example sh_ex_builder`

### Запуск примера с подписчиками

`cargo run --example sh_ex_subscribe`

### Запуск тестов

`cargo test` - выполнит тесты
